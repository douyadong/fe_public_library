<!doctype html>
<html>
	<head>
		<style>

			.wktable{

			}
			
			.wktable tfoot{

			}

			.wktable tfoot{

			}

			.wktable a.page-index{
				line-height:1.8em;
				padding-left:.3em;
				padding-right:.3em;
				border:1px solid;
				margin:0 .3em;
				display:inline-block;
			}

			.wktable a.active{
				background-color:#33aadd;
			}
		</style>
		<link href="../../bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet"/>
	</head>
	<body>
		<div class="container" style="margin:20px auto">
		<form id='myform'>
			<input type="text" name="name" />
			<input type="text" name="country" />
			<input type="button" id="btn" value="click" />
		</form>
		<table id="myTable" class="table table-hover table-striped table-condensed table-bordered"></table>
		</div>
		<script src="../../wkzf/js/lib/jquery/jquery-2.0.3.min.js"></script>
		<script src="../../wkzf/jssrc/jquery.wktable.js"></script>
		<script>
		$(function(){
			$('#btn').click(function(){
				var obj = {
					params:{
						name:$('[name=name]').val(),
						country:$('[name=country]').val()
					}
				};
				$('#myTable').wktable("setOptions",obj).wktable('refresh');				
			});

			$('#myTable').wktable({
				ready:function(){
					this.$table.find('.delete').click(function(){
						alert('haha');
					});
				},
				columns:[
					{
						text:"姓名",
						field:"name"						
					},
					{text:"年龄",field:function(row){
						return row.age;
					}},
					{
						text:'国籍',
						field:'country'
					},
					{
						text:"性别",
						field:"gender"
					},
					{
						text:"操作",
						field:function(){
							return "<a href=''>删除</a>";
						}
					}
				],
				/*data:[
					{name:"mks",age:12,country:'China'},
					{name:"sum",age:24,country:'China'},
					{name:"john",age:122,country:'China'},
					{name:"tim",age:13,country:'China'},
					{name:"mars",age:12,country:'China'},
					{name:"mks",age:12,country:'England'},
					{name:"sum",age:24,country:'China'},
					{name:"john",age:122,country:'China'},
					{name:"tim",age:13,country:'China'},
					{name:"mars",age:12,country:'China'},
					{name:"mks",age:12,country:'England'},
					{name:"sum",age:24,country:'China'},
					{name:"john",age:122,country:'China'},
					{name:"tim",age:13,country:'China'},
					{name:"mars",age:12,country:'China'},
					{name:"mks",age:12,country:'England'},
					{name:"sum",age:24,country:'China'}
					
				]*/
				url:'/activity/data.php',
				parse:function(data){//映射
					return {
						pageInfo:{
							pageIndex:data.data.pageIndex,
							pageSize:data.data.pageSize,
							total:data.data.total
						},
						items:data.data.contents
					};
				}
			});
		});
		</script>
	</body>
</html>