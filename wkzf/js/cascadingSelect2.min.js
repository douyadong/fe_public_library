+function(){function e(t,a,l,n){if(0!==a){if(t&&t.length>0)for(var r=0;r<t.length;r++)t[r]&&t[r].items&&e(t[r].items,a-1,l,n)}else if(t)for(var r=0;r<t.length;r++)t[r].id==l&&n.push(t[r])}$.cascadingSelect2=function(t){t.data?$.each(t.selects,function(a,l){$(l.ele).select2({data:0===a&&t.data||null,language:"zh-CN",placeholder:"--请选择--"}).on("change",function(){var n=$(l.ele).val(),r=[];e(t.data,a,n,r),r.length>0&&(r=r[0].items);var s=t.selects[a+1];if(s){$(s.ele).select2("destroy"),$(s.ele).find("option").remove(),$(s.ele).select2({data:r,language:"zh-CN",placeholder:"--请选择--"});for(var c=a+2;c<t.selects.length;c++)$(t.selects[c].ele).find("option").remove(),$(s.ele).trigger("change")}})}):$.each(t.selects,function(e,a){$(a.ele).select2({minimumInputLength:a.minimumInput||1,ajax:{url:function(){var l=a.url,n=t.selects[e-1];return e>0&&(void 0===n.value||null===n.value||""===n.value?l=a.url:l+="?"+t.selects[e-1].paramNameForNext+"="+t.selects[e-1].value),l},dataType:a.dataType||"json",delay:a.delay||250,data:a.data&&"function"==typeof a.data||function(e){var t=$.extend({},a.data);return t[a.paramName]=e.term,t},processResults:a.processResults||function(e,t){return t.page=t.page||1,{results:e.items,pagination:{more:!1}}},transport:function(t,l,n){if(e>0&&a.url===t.url)return null;var r=$.ajax(t);return r.then(l),r.fail(n),r}},language:"zh-CN",placeholder:"--请选择--"}).on("change",function(){var l=$(a.ele).val();a.value=l;for(var n=e+1;n<t.selects.length;n++)t.selects[n].value=null,$(t.selects[n].ele).find("option").remove(),$(t.selects[n].ele).trigger("change");a.selected&&a.selected()})})}}(jQuery);